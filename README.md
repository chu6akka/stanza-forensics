# Stanza Forensics GUI

Простая программа с графическим интерфейсом (Tkinter) для судебно-лингвистического анализа русского текста.

## Логика бэкендов

В текущей версии:
1. **Natasha** — основной бэкенд.
2. **pymorphy3** — резервный бэкенд.

Stanza из приложения удалена.

Если выбранный бэкенд не загружается, приложение показывает **всплывающее окно с точной причиной ошибки** и автоматически переключается на доступный резерв.

Частый случай: ошибка `No module named 'pkg_resources'` — это обычно означает отсутствие `setuptools`.

Дополнительно приложение теперь делает авто-попытку исправления этой проблемы: если при загрузке Natasha обнаружен `pkg_resources`, выполняется команда через тот же интерпретатор:

```powershell
python -m pip install --upgrade setuptools wheel
```

Если автоисправление не удалось, во всплывающем окне будет текст причины и команда, которую нужно запустить вручную.

## Что улучшено

- все основные показатели и лингвистические характеристики в интерфейсе выведены на русском языке;
- морфологические признаки отображаются в русской научной терминологии;
- для `pymorphy3` добавлен перевод граммем OpenCorpora на русский;
- при наведении на токен в таблице соответствующее слово подсвечивается в исходном тексте;
- текстовое поле можно расширять/сворачивать (чекбокс «Расширить поле ввода»), чтобы на экране помещался большой текст;
- круговая диаграмма дополнена текстовыми пояснениями, что означает сектор и легенда;
- добавлены показатели по регистру, повторяющимся символам, разговорным/искажённым формам и возможным намеренным опечаткам.

## Установка

```bash
python -m venv .venv
source .venv/bin/activate
pip install -r requirements.txt
```

## Запуск

```bash
python pos_forensics.py
```


## Что делать при ошибке `No module named 'pkg_resources'`

Эта ошибка почти всегда означает, что приложение запускается одним интерпретатором Python, а пакеты установлены в другом.

Проверьте и используйте один и тот же Python:

```powershell
python -c "import sys; print(sys.executable)"
python -m pip install --upgrade pip setuptools wheel
python -c "import pkg_resources; print(pkg_resources.__file__)"
python pos_forensics.py
```

Если ошибка не исчезает, рекомендуется создать новое окружение на Python 3.11 и установить зависимости заново.
