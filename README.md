# Stanza Forensics GUI

Простая программа с графическим интерфейсом (Tkinter) для судебно-лингвистического анализа русского текста.

## Что исправлено по установке

Ранее конфликтовали `stanza` и `trankit` из-за несовместимых требований к `torch` (особенно заметно на Python 3.13 / Windows).  
Теперь базовая установка использует:

- **Stanza** как основную модель;
- **pymorphy3 + razdel** как резервный backend без `torch`.

Это убирает `ResolutionImpossible` из `pip install -r requirements.txt` в типичных окружениях.

## Что делает программа

- анализирует введенный текст с помощью **Stanza** (основная модель);
- использует **pymorphy3** как резервную модель на случай недоступности Stanza;
- выделяет для каждой словоформы:
  - начальную форму (лемму),
  - часть речи начальной формы в контексте,
  - морфологические признаки;
- отдельно учитывает сложные глагольные формы:
  - **причастие**,
  - **деепричастие**;
- **не учитывает герундий как отдельную часть речи** (приводит к глаголу);
- считает частотные коэффициенты частей речи:
  - `count(POS) / общее число слов`;
- считает дополнительные показатели, значимые для автороведческой экспертизы (ориентиры по практике РФЦСЭ):
  - TTR, доля hapax,
  - средняя длина и дисперсия длины предложений,
  - соотношение содержательных/служебных слов,
  - соотношение существительных/глаголов,
  - доли причастий и деепричастий,
  - пунктуация на 100 слов.

> Примечание: Stanza использует UD-разметку и хорошо подходит для задач корпусной русистики (в т.ч. НКРЯ-подобных сценариев).

## Интерфейс и удобство ввода

- горячие клавиши:
  - `Ctrl+Enter` — запустить анализ,
  - `Ctrl+V` — вставить текст в поле ввода;
- контекстное меню (правая кнопка мыши) в поле ввода и отчете:
  - Вырезать / Копировать / Вставить / Выделить всё.

## Установка

```bash
python -m venv .venv
source .venv/bin/activate
pip install -r requirements.txt
```

## Запуск

```bash
python pos_forensics.py
```

После запуска вставьте текст в верхнее поле, нажмите «Анализировать» или `Ctrl+Enter`.
